<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<style>
	  body {
		  background-color: white;
		  padding: 100px;
		  width: 1000px;
		  margin: auto;
		  text-align: left;
		  font-weight: 300;
		  font-family: 'Open Sans', sans-serif;
		  color: #121212;
	  }

	  h1, h2, h3, h4 {
		  font-family: 'Source Sans Pro', sans-serif;
	  }

	  kbd {
		  color: #121212;
	  }
    div.padded {  
      padding-top: 0px;  
      padding-right: 100px;  
      padding-bottom: 0.25in;  
      padding-left: 100px;  
    }  
  </style> 
<title>Alex Jean and Kevyn Ramirez |  CS 184</title>
<meta http-equiv="content-type" content="text/html; charset=utf-8" />
<link rel="stylesheet" type="text/css" href="style.css" media="screen" />
</head>
<body>
  <br />
  <h1 align="middle">Assignment 3-2: Additional Features to PathTracer</h1>

  <h2 align="middle">Alex Jean and Kevyn Ramirez</h2>
  <h2 align="middle"><a href="https://ajean757.github.io/184-proj-writeups/proj3-2/index.html">Webpage URL</a></h2>


  <div class="padded">


    * NOTE: For this project, you will choose TWO out of the four given parts to complete. One of those parts must be Part 1 or Part 2. In other words, you can choose any combination of two parts except the pair (Part 3, Part 4).


    <h3 align="middle">Part 1. Mirror and Glass Materials</h3>

    <p>
      <b>
        Show a sequence of six images of scene `CBspheres.dae` rendered with `max_ray_depth` set to 0, 1, 2, 3, 4, 5, and 100. The other settings should be at least 64 samples per pixel and 4 samples per light. Make sure to include all screenshots.
      </b>
    </p>
    <div align="middle">
      <table style="width:100%">
        <tr align="center">
          <td>
            <img src="images/part1_cbspheres_128_4_0.png" align="middle" width="400px" />
            <figcaption>Max Ray Depth = 0</figcaption>
          </td>
          <td>
            <img src="images/part1_cbspheres_128_4_1.png" align="middle" width="400px" />
            <figcaption>Max Ray Depth = 1</figcaption>
          </td>
        </tr>
        <tr align="center">
          <td>
            <img src="images/part1_cbspheres_128_4_2.png" align="middle" width="400px" />
            <figcaption>Max Ray Depth = 2</figcaption>
          </td>
          <td>
            <img src="images/part1_cbspheres_128_4_3.png" align="middle" width="400px" />
            <figcaption>Max Ray Depth = 3</figcaption>
          </td>
        </tr>
        <tr align="center">
          <td>
            <img src="images/part1_cbspheres_128_4_4.png" align="middle" width="400px" />
            <figcaption>Max Ray Depth = 4</figcaption>
          </td>
          <td>
            <img src="images/part1_cbspheres_128_4_5.png" align="middle" width="400px" />
            <figcaption>Max Ray Depth = 5</figcaption>
          </td>
        </tr>
        <tr align="center">
          <td align="center">
            <img src="images/part1_cbspheres_128_4_100.png" align="middle" width="400px" />
            <figcaption>Max Ray Depth = 100</figcaption>
          </td>
        </tr>
      </table>
    </div>
    <br />
    <p>
      <b>
        Point out the new multibounce effects that appear in each image.
      </b>
    </p>
    <p>
      As we increase the number of bounces each light ray has, we can see additional details in the reflection and refraction. At 1 bounce, we only see the light reflecting on the shiny sphere (left sphere) and refracting on the glass sphere (right sphere). At 2 bounces, we can see the shiny sphere reflect the background, allowing us to see all 5 faces of the cube, the outside region, and the glass sphere in its reflection. The glass sphere however, is still mostly dark and lacking details. This is because we need an additional bounce of light to see the effects of reflection and refraction. With a max ray depth of 3, we can now see light reflecting and refracting through the glass sphere, allowing us to see the ceiling, light source and wall. We can also see light shines through the glass sphere and creates a circle of white light below the sphere near the center of its shadow. Furthermore, the shiny sphere now looks sharper and has some more details, but the reflected image of the glass sphere is still black. With a max ray depth of 4, we can now see the details of the glass sphere in the shiny sphere's reflection. The glass sphere now looks like a glass sphere and we can see the light from the blue through the glass sphere. We also see a small area of light on the blue wall, which is the light that's refracted through the glass sphere. At a max ray depth of 5 and 100, there are less significant changes. The reflections from the shiny sphere become more detailed, such reflections of the room becoming increasingly accurate. We also notice the glass sphere looks a little more diffused, as light bounces multiple times through the glass sphere, it reflects and refracts more, causing this effect. 
    </p>
    <br />
    <p>
      <b>
        Explain how these bounce numbers relate to the particular effects that appear. Make sure to include all screenshots.
      </b>
    </p>
    <p>
      At 0 bounces of light, we only see the light source. At 1 bounce of light, we see direct illumination lighting the room and a few bright spots on the two spheres. With 2 bounces, we now have some global illumination, as light bounces one additional time, we can see the shiny sphere have some reflective surface that shows the scene. At 3 bounces of light, we can now see that light is able to bounce through the glass sphere and show us its reflective and refractive effects. We see the white circle of light below the glass sphere, showing light refracting through it. At 4 bounces of light, we see even more detail in the shiny sphere, the details of the reflection of the glass sphere is now clear, rather than dark. We can also observe some light being refracted and reflected onto the blue wall from the glass sphere. The reflections inside the glass also become less clear, as light is allowed to bounce an additional time causing refraction effects. At a 5 bounces of light, the details we noticed with 4 bounces become even more refined, reflections become clearer, additional refractions produce more of a distortion effect, and shadows become softer. At 100 bounces of light, the changes are not as significant compared to 5 bounces of light. Some details are more pronounced, such as the shiny sphere's reflection of the glass sphere. 
    </p>
    <br />


    <h3 align="middle">Part 4. Depth of Field</h3>
    <b>
      For these subparts, we recommend using a microfacet BSDF scene to show off the cool out of focus effects you can get with depth of field!
    </b>
    <p>
      <b>
        In a few sentences, explain the differences between a pinhole camera model and a thin-lens camera model.
      </b>
    </p>
    <p>
      The pinhole camera model is modeled as an infinitely small lens radius, meaning we only process the light coming from one ray at a time. This allows us to "perfectly capture" all the details. In our implementation of the pinhole model, we have a camera at the origin facing the -Z axis. The thin-lens camera model allows us to simulate realistic photography effects, such as depth of field, by changing aperture and focal distance. In our thin-lens camera model implementation, we add a thin lens between the camera sensor and the scene. The image plane is at Z=1, thin-lens is at Z=0, and our plane of focus is at Z=-focalDistance. The thin lens allows us to simulate the lens of a real camera by sampling rays that hit the lens, rather than rays that hit a single point in the pinhole model. By uniformly sampling rays that hit the lens, we can model effects of changing aperture, such as increasing or reducing depth of field. Furthermore, by creating a focal plane, we can now simulate changes to focal distance, so we can focus on areas closer or farther to the camera. 
    </p>
    <br />
    <p>
      <b>
        Show a "focus stack" where you focus at 4 visibly different depths through a scene. Make sure to include all screenshots.
      </b>
    </p>
    <div align="middle">
      <table style="width:100%">
        <tr align="center">
          <td>
            <img src="images/part4_dragon_0.23_3.8.png" align="middle" width="400px" />
            <figcaption>Focal Distance = 3.8</figcaption>
          </td>
          <td>
            <img src="images/part4_dragon_0.23_4.5.png" align="middle" width="400px" />
            <figcaption>Focal Distance = 4.5</figcaption>
          </td>
        </tr>
        <tr align="center">
          <td>
            <img src="images/part4_dragon_0.23_4.8.png" align="middle" width="400px" />
            <figcaption>Focal Distance = 4.8</figcaption>
          </td>
          <td>
            <img src="images/part4_dragon_0.23_6.0.png" align="middle" width="400px" />
            <figcaption>Focal Distance = 6.0</figcaption>
          </td>
        </tr>
      </table>
    </div>
    <p>
      We can see in these images, as we change the focal distance, different parts of the image are in focus. A focal distance of 3.8 is too low, as nothing is in the foreground, and the entire scene is blurry. As we increase the focal distance to 4.5, we can now see the front of the dragon clearly, but the back is still blurry. At a focal distance of 4.8, most of the dragon now becomes clear. At 6.0, the dragon becomes blurry and the focus is now on the back wall--we can now see the sharp edges and corners.
    </p>
    <br />
    <p>
      <b>
        Show a sequence of 4 pictures with visibly different aperture sizes, all focused at the same point in a scene. Make sure to include all screenshots.
      </b>
    </p>
    <div align="middle">
      <table style="width:100%">
        <tr align="center">
          <td>
            <img src="images/part4_dragon_0.01_4.5.png" align="middle" width="400px" />
            <figcaption>Lens Radius = 0.01</figcaption>
          </td>
          <td>
            <img src="images/part4_dragon_0.1_4.5.png" align="middle" width="400px" />
            <figcaption>Lens Radius = 0.10 </figcaption>
          </td>
        </tr>
        <tr align="center">
          <td>
            <img src="images/part4_dragon_0.23_4.5.png" align="middle" width="400px" />
            <figcaption>Lens Radius = 0.23 </figcaption>
          </td>
          <td>
            <img src="images/part4_dragon_0.5_4.5.png" align="middle" width="400px" />
            <figcaption>Lens Radius  = 0.50 </figcaption>
          </td>
        </tr>
      </table>
    </div>
    <p>
      We can notice that a smaller lens radius means the simulation is closer to a pinhole camera, and everything is in focus. This is because as you decrease the lens radius, light can only reach the sensor through a small opening, causing more objects to be focused. As we increase the lens radius to 0.10, the background starts to become blurrier because light is allowed to spread out more as a result of the larger lens. As the lens radius increases to 0.23 and 0.50, we observe more parts of the dragon and background become blurrier.
    </p>
    <br />

  </div>
</body>
</html>

